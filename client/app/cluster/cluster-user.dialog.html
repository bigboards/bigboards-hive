<md-dialog aria-label="Users">
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>Users</h2>
            <span flex></span>
            <md-button class="md-icon-button" ng-click="vm.cancel()">
                <md-icon md-font-icon="lnr-cross" class="lnr icon" aria-label="Close dialog"></md-icon>
            </md-button>
        </div>
    </md-toolbar>
    <md-dialog-content style="max-width:800px;max-height:810px; min-width: 400px;" layout-padding>
        <md-list>
            <md-list-item>
                <md-autocomplete
                        md-no-cache="true"
                        md-selected-item="vm.user.selected"
                        md-search-text="vm.user.searchText"
                        md-items="item in vm.user.query()"
                        md-item-text="item.data.name"
                        md-min-length="3"
                        placeholder="User Name">
                    <md-item-template>
                        <span md-highlight-text="vm.user.searchText" md-highlight-flags="^i">{{item.data.name}}</span>
                    </md-item-template>
                    <md-not-found>
                        No Users matching "{{vm.collaborator.searchText}}" were found.
                    </md-not-found>
                </md-autocomplete>
                <div class="md-secondary">
                    <md-button class="md-icon-button">
                        <md-icon md-font-icon="lnr-plus" ng-click="vm.user.add()" aria-label="Add the user" class="lnr icon"></md-icon>
                    </md-button>
                </div>
            </md-list-item>
            <md-list-item ng-repeat="user in vm.users">
                <div layout="row" flex>
                    <span class="p-l-5 p-r-5" flex> {{ user.name }} </span>
                </div>
                <md-menu class="md-secondary">
                    <md-button aria-label="Open interactions menu" class="md-icon-button" ng-click="$mdOpenMenu($event)">
                        <md-icon md-menu-origin md-font-icon="lnr-menu" class="lnr icon"></md-icon>
                    </md-button>
                    <md-menu-content width="4">
                        <md-menu-item>
                            <md-button ng-click="vm.user.remove($event, user)" aria-label="Remove the user" >
                                <md-icon md-font-icon="lnr-trash" class="md-warn lnr icon"></md-icon>
                                Remove
                            </md-button>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
            </md-list-item>
        </md-list>
    </md-dialog-content>
</md-dialog>