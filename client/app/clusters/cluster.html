<div layout-padding layout="column" layout-align="start center" flex>
    <div layout="column" flex style="width: 80%;">
        <div class="md-whiteframe-z1 bb-bg-white" layout-padding layout="row" layout-align="start center">
            <md-icon md-font-icon="lnr-server" class="lnr icon icon-3x m-l-30 m-r-16"></md-icon>
            <h1 class="md-display-1 m-16" flex>{{cluster.data.name}}</h1>
            <div layout="row" class="m-l-16">
                <div layout="row" class="m-l-16">
                    <md-icon md-font-icon="lnr-hdd" class="lnr icon icon-2x m-r-8"></md-icon>
                    <span class="md-body-1">{{ totalStorage | bytes }}</span>
                    <md-tooltip>Amount of Data Storage</md-tooltip>
                </div>
                <div layout="row" class="m-l-16">
                    <md-icon md-font-icon="lnr-flash-memory" class="lnr icon icon-2x m-r-8"></md-icon>
                    <span class="md-body-1">{{ totalMemory | bytes }}</span>
                    <md-tooltip>Amount of Memory</md-tooltip>
                </div>
                <div layout="row" class="m-l-16">
                    <md-icon md-font-icon="lnr-chip" class="lnr icon icon-2x m-r-8"></md-icon>
                    <span class="md-body-1">{{ totalCores }}</span>
                    <md-tooltip>Number of CPU cores</md-tooltip>
                </div>
            </div>
            <div layout="row" layout-align="center center">
                <md-button class="md-icon-button" ng-href="http://{{device.data.name}}.hex.bigboards.io:7000" target="_blank">
                    <md-tooltip>Launch the management console</md-tooltip>
                    <md-icon md-font-icon="lnr-paper-plane" class="lnr icon icon-2x"></md-icon>
                </md-button>
            </div>
        </div>

        <div layout="row" layout-align="end start" class="m-t-16" flex>
            <md-content class="md-whiteframe-z1 m-r-8" flex>
                <md-list>
                    <md-list-item ng-if="devices == null || devices.length == 0"  layout="row" layout-align="start center">
                        <p class="md-body-2">No nodes have been added yet</p>
                    </md-list-item>
                    <md-list-item ng-repeat="node in devices" layout="row" layout-align="start center">
                        <md-icon md-font-icon="lnr-chip" class="lnr icon icon-2x m-l-16 m-r-16"></md-icon>
                        <span flex>{{ node.data.hostname }}</span>
                        <span flex>{{ node.data.ipv4 }}</span>
                        <span flex>{{ node.data.arch }}</span>
                        <span flex>{{ node.data.cpus | length }}</span>
                        <span flex>{{ node.data.memory * 1024 | bytes }}</span>
                        <md-button class="md-icon-button" ng-href="http://{{ node.data.ipv4 }}:57575" target="_blank">
                            <md-tooltip>Launch a shell</md-tooltip>
                            <md-icon md-font-icon="lnr-cli" class="lnr icon icon-2x"></md-icon>
                        </md-button>
                        <md-button class="md-warn" ng-click="disconnectNode(node)">Disconnect</md-button>
                    </md-list-item>
                </md-list>
            </md-content>
            <div style="width: 300px;" class="m-l-8">
                <md-content class="md-whiteframe-z1 m-b-16">
                    <md-toolbar>
                        <div class="md-toolbar-tools">
                            <span>Adding a new device</span>
                        </div>
                    </md-toolbar>
                    <div layout-padding>
                        <div layout="row">
                            <md-input-container class="m-r-15" flex>
                                <label>Device Code</label>
                                <input ng-model="deviceCode" aria-label="Device Code" required>
                            </md-input-container>
                            <md-button class="md-primary" ng-click="connectDevice(deviceCode)">
                                LINK
                            </md-button>
                        </div>
                    </div>
                </md-content>

                <md-content class="md-whiteframe-z1  m-b-16">
                    <md-toolbar class="md-warn">
                        <div class="md-toolbar-tools">
                            <span>Danger Zone</span>
                        </div>
                    </md-toolbar>
                    <div layout-padding layout="column" layout-align="center center">
                        <p class="md-body-1 md-warn">
                            Clicking the button below will remove this device and all nodes connected to it from the hive.
                            <strong>This action can not be undone,</strong> You can however create a new device later on
                            and again link all the nodes to that new device.
                        </p>
                        <md-button class="md-warn" ng-click="removeDevice()">
                            Remove this device
                        </md-button>
                    </div>
                </md-content>
            </div>
        </div>
    </div>
</div>